<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Лабораторна робота №6</title>
    <style>
      html {
        scroll-behavior: smooth;
      }

      body {
        font-family: "Segoe UI", Arial, sans-serif;
        background-color: #f6f8fc;
        margin: 20px;
        color: #333;
        line-height: 1.6;
      }

      /* Навігація */
      .floating-nav {
        position: fixed;
        right: 20px;
        top: 80px;
        width: 260px;
        background: #ffffff;
        border: 1px solid #e1e4e8;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        padding: 15px;
        font-size: 13px;
        z-index: 100;
        max-height: 85vh;
        overflow-y: auto;
      }
      .floating-nav h3 {
        margin-top: 0;
        text-align: center;
        font-size: 16px;
        color: #003366;
        border-bottom: 2px solid #eaecef;
        padding-bottom: 10px;
      }
      .floating-nav ul {
        list-style: none;
        margin: 0;
        padding: 0;
      }
      .floating-nav li {
        margin: 6px 0;
      }
      .floating-nav a {
        color: #0366d6;
        text-decoration: none;
        display: block;
        padding: 2px 0;
      }
      .floating-nav a:hover {
        color: #005cc5;
        text-decoration: underline;
      }

      /* Основний контент */
      header {
        text-align: center;
        margin-bottom: 30px;
      }
      header h1 {
        color: #003366;
        margin-bottom: 10px;
      }

      section {
        background: #ffffff;
        border-radius: 8px;
        padding: 25px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        margin-bottom: 30px;
        margin-right: 290px;
        border: 1px solid #e1e4e8;
      }

      h2 {
        color: #003366;
        border-bottom: 1px solid #eaecef;
        padding-bottom: 10px;
        margin-top: 0;
      }
      h3 {
        color: #005599;
        margin-top: 20px;
        font-size: 1.1em;
        border-left: 4px solid #005599;
        padding-left: 10px;
      }

      pre {
        background: #f6f8fa;
        color: #24292e;
        padding: 15px;
        border-radius: 6px;
        border: 1px solid #e1e4e8;
        overflow-x: auto;
        font-family: Consolas, monospace;
        font-size: 13px;
      }

      .console-output {
        background: #2d2d2d;
        color: #f8f8f2;
        padding: 15px;
        font-family: Consolas, monospace;
        white-space: pre-wrap;
        min-height: 40px;
        margin-top: 15px;
        border-radius: 6px;
        border-left: 5px solid #003366;
      }

      /* Елементи інтерфейсу для завдань */
      input {
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 4px;
        margin-right: 10px;
      }
      button {
        background-color: #2ea44f;
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 6px;
        cursor: pointer;
        font-weight: 600;
        transition: 0.2s;
      }
      button:hover {
        background-color: #2c974b;
      }

      /* Task 5 area */
      #place {
        width: 100px;
        height: 100px;
        background-color: #28a745;
        margin-top: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        cursor: pointer;
      }

      /* Task 9 widget */
      .widget {
        padding: 20px;
        border: 1px dashed #ccc;
        margin-top: 10px;
        text-align: center;
      }

      /* Task 10 boxes */
      #boxes {
        margin-top: 20px;
        display: flex;
        flex-wrap: wrap;
        gap: 5px;
      }
      #boxes div {
        margin-bottom: 5px;
      }

      .back-link {
        display: inline-block;
        margin-bottom: 15px;
        color: #586069;
        text-decoration: none;
        font-weight: 500;
      }
      .back-link:hover {
        color: #0366d6;
      }

      @media (max-width: 1000px) {
        .floating-nav {
          position: static;
          width: auto;
          margin-bottom: 20px;
        }
        section {
          margin-right: 0;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <a href="index.html" class="back-link">← Повернутися на головну</a>
      <h1>ЛАБОРАТОРНА РОБОТА №6</h1>
      <p>
        <b>Тема:</b> КЛАСИ. DOM. ПОДІЇ. ДЕЛЕГУВАННЯ. <br />
        <b>Варіант:</b> 7 (Завдання 1, 3, 5, 7, 8, 9, 10)
      </p>
    </header>

    <nav class="floating-nav">
      <h3>Зміст</h3>
      <ul>
        <li><a href="#topic">Постановка завдання</a></li>
        <li><a href="#task1">Завдання 1 (Show Me)</a></li>
        <li><a href="#task3">Завдання 3 (Password)</a></li>
        <li><a href="#task5">Завдання 5 (Click Place)</a></li>
        <li><a href="#task7">Завдання 7 (Categories)</a></li>
        <li><a href="#task8">Завдання 8 (Login Form)</a></li>
        <li><a href="#task9">Завдання 9 (Change Color)</a></li>
        <li><a href="#task10">Завдання 10 (Boxes)</a></li>
        <li><a href="#conclusions">Висновки</a></li>
      </ul>
    </nav>

    <section id="topic">
      <h2>Тема, Мета та Посилання</h2>
      <p>
        <b>Мета:</b> придбати практичні навички роботи з DOM, подіями, об'єктом
        події та делегуванням подій.
      </p>
      <ul>
        <li>
          <a
            href="https://litovcenkoangelina84-png.github.io/IP34_appWEB-LytovchenkoAngelina-FIOT-2025/"
            target="_blank"
            >Жива сторінка WEB-застосунку</a
          >
        </li>
        <li>
          <a
            href="https://github.com/litovcenkoangelina84-png/IP34_appWEB-LytovchenkoAngelina-FIOT-2025"
            target="_blank"
            >Репозиторій WEB-застосунку</a
          >
        </li>
        <li>
          <a
            href="https://litovcenkoangelina84-png.github.io/IP-34-appRECORD-LytovchenkoAngelina-FIOT-2025/"
            target="_blank"
            >Жива сторінка Звітів</a
          >
        </li>
      </ul>
    </section>

    <section id="task1">
      <h2>Завдання 1: Input Value</h2>
      <p>
        Натискання на кнопку "SHOW ME" має виводити значення з поля введення у
        консоль.
      </p>

      <div style="margin-bottom: 15px">
        <button id="task1-btn">SHOW ME</button>
        <input type="text" id="task1-input" placeholder="Введіть щось..." />
      </div>

      <h3>Програмний код</h3>
      <pre>
const btn1 = document.getElementById('task1-btn');
const input1 = document.getElementById('task1-input');

btn1.addEventListener('click', () => {
    console.log(input1.value);
    // Дублювання для звіту
    document.getElementById('log1').innerText = `Value: "${input1.value}"`;
});
</pre
      >

      <div id="log1" class="console-output">Див. консоль...</div>
    </section>

    <section id="task3">
      <h2>Завдання 3: Приховати/Розкрити пароль</h2>
      <p>Кнопка ховає текст в інпуті (зірочки) або показує його.</p>

      <div style="margin-bottom: 15px">
        <input type="text" id="task3-input" value="password123" />
        <button id="task3-btn">Приховати</button>
      </div>

      <h3>Програмний код</h3>
      <pre>
const btn3 = document.getElementById('task3-btn');
const input3 = document.getElementById('task3-input');

btn3.addEventListener('click', () => {
    if (input3.type === 'text') {
        input3.type = 'password';
        btn3.textContent = 'Розкрити';
    } else {
        input3.type = 'text';
        btn3.textContent = 'Приховати';
    }
});
</pre
      >
    </section>

    <section id="task5">
      <h2>Завдання 5: Event Listener</h2>
      <p>
        Клікніть на зелений квадрат. Скрипт визначить, чи був клік саме по
        ньому.
      </p>

      <div id="place">ID="place"</div>

      <h3>Програмний код</h3>
      <pre>
window.addEventListener('click', (e) => {
    const isPlace = e.target.id === 'place';
    console.log(isPlace);
    
    // Візуалізація для звіту
    if(isPlace) {
        document.getElementById('log5').innerText = "Click on #place: TRUE";
    } else {
        // Щоб не засмічувати звіт кожним кліком, оновлюємо тільки при потребі
        // document.getElementById('log5').innerText = "Click on #place: FALSE";
    }
});
</pre
      >
      <div id="log5" class="console-output">Клікніть по квадрату...</div>
    </section>

    <section id="task7">
      <h2>Завдання 7: Categories DOM</h2>
      <p>Скрипт рахує кількість категорій та елементів у них.</p>

      <ul
        id="categories"
        style="
          background: #f9f9f9;
          padding: 10px;
          border: 1px solid #ddd;
          max-width: 300px;
        "
      >
        <li class="item">
          <h3>Animals</h3>
          <ul>
            <li>Cat</li>
            <li>Hamster</li>
            <li>Horse</li>
            <li>Parrot</li>
          </ul>
        </li>
        <li class="item">
          <h3>Products</h3>
          <ul>
            <li>Bread</li>
            <li>Prasley</li>
            <li>Cheese</li>
          </ul>
        </li>
        <li class="item">
          <h3>Technologies</h3>
          <ul>
            <li>HTML</li>
            <li>CSS</li>
            <li>JavaScript</li>
            <li>React</li>
            <li>Node.js</li>
          </ul>
        </li>
      </ul>

      <h3>Програмний код</h3>
      <pre>
const categories = document.querySelectorAll('#categories .item');
let res = `Number of categories: ${categories.length}\n\n`;

categories.forEach(item => {
    const title = item.querySelector('h3').textContent; // або h2 в завданні
    const elements = item.querySelectorAll('li').length;
    res += `Category: ${title}\nElements: ${elements}\n\n`;
});

console.log(res);
</pre
      >
      <button onclick="runTask7()">Аналізувати список</button>
      <div id="log7" class="console-output">Результат...</div>
    </section>

    <section id="task8">
      <h2>Завдання 8: Login Form</h2>
      <p>Обробка форми, валідація, збір даних.</p>

      <form
        class="login-form"
        style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap"
      >
        <label>
          Email
          <input type="email" name="email" placeholder="example@mail.com" />
        </label>
        <label> Password <input type="password" name="password" /> </label>
        <button type="submit">Log in</button>
      </form>

      <h3>Програмний код</h3>
      <pre>
const form = document.querySelector('.login-form');

form.addEventListener('submit', (event) => {
    event.preventDefault(); // Зупиняємо перезавантаження
    
    const { elements: { email, password } } = event.currentTarget;

    if (email.value === "" || password.value === "") {
        alert("All form fields must be filled in!");
        return;
    }

    const userData = {
        email: email.value.trim(),
        password: password.value.trim(),
    };

    console.log(userData);
    document.getElementById('log8').innerText = JSON.stringify(userData, null, 2);
    
    event.currentTarget.reset();
});
</pre
      >
      <div id="log8" class="console-output">Дані форми з'являться тут...</div>
    </section>

    <section id="task9">
      <h2>Завдання 9: Change Background Color</h2>
      <p>Зміна кольору фону сторінки (body) за допомогою інлайн-стилю.</p>

      <div class="widget">
        <p>Background color: <span class="color">-</span></p>
        <button type="button" class="change-color">Change color</button>
      </div>

      <h3>Програмний код</h3>
      <pre>
function getRandomHexColor() {
  return `#${Math.floor(Math.random() * 16777215).toString(16).padStart(6, 0)}`;
}

const changeBtn = document.querySelector('.change-color');
const colorSpan = document.querySelector('.color');

changeBtn.addEventListener('click', () => {
    const color = getRandomHexColor();
    document.body.style.backgroundColor = color;
    colorSpan.textContent = color;
});
</pre
      >
    </section>

    <section id="task10">
      <h2>Завдання 10: Boxes Collection</h2>
      <p>Створення та очищення колекції елементів.</p>

      <div id="controls" style="margin-bottom: 15px">
        <input
          type="number"
          id="box-amount"
          min="1"
          max="100"
          step="1"
          value="1"
        />
        <button type="button" data-create>Create</button>
        <button type="button" data-destroy style="background-color: #d73a49">
          Destroy
        </button>
      </div>
      <div id="boxes"></div>

      <h3>Програмний код</h3>
      <pre>
function getRandomHexColor() {
  return `#${Math.floor(Math.random() * 16777215).toString(16).padStart(6, 0)}`;
}

const inputAmount = document.getElementById('box-amount');
const createBtn = document.querySelector('[data-create]');
const destroyBtn = document.querySelector('[data-destroy]');
const boxesDiv = document.getElementById('boxes');

function createBoxes(amount) {
    boxesDiv.innerHTML = ''; // Очищення перед створенням нової (за умовою "поверх старої" - тут можна вибрати += або =)
    // Умова "поверх старої" -> "замість старої" або "додати до старої"? 
    // Зазвичай мається на увазі додавання, але в завданні "поверх старої... рендеритись нова" часто трактують як очистити і створити.
    // Зробимо очистку для охайності.
    
    let size = 30;
    const fragment = document.createDocumentFragment();
    
    for (let i = 0; i < amount; i++) {
        const div = document.createElement('div');
        div.style.width = `${size}px`;
        div.style.height = `${size}px`;
        div.style.backgroundColor = getRandomHexColor();
        fragment.appendChild(div);
        size += 10;
    }
    boxesDiv.appendChild(fragment);
}

function destroyBoxes() {
    boxesDiv.innerHTML = '';
}

createBtn.addEventListener('click', () => {
    const amount = Number(inputAmount.value);
    if(amount >= 1 && amount <= 100) {
        createBoxes(amount);
        inputAmount.value = '';
    } else {
        alert("Введіть число від 1 до 100");
    }
});

destroyBtn.addEventListener('click', destroyBoxes);
</pre
      >
    </section>

    <section id="conclusions">
      <h2>Висновки</h2>
      <p>
        У ході виконання лабораторної роботи №6 я опанувала роботу з DOM-деревом
        та подіями в JavaScript. Було реалізовано: отримання доступу до
        елементів (querySelector, getElementById), обробку подій click та
        submit, маніпуляцію стилями (inline styles) та класами елементів, а
        також динамічне створення та видалення вузлів DOM.
      </p>
    </section>

    <script>
      // --- Task 1 ---
      const btn1 = document.getElementById("task1-btn");
      const input1 = document.getElementById("task1-input");
      btn1.addEventListener("click", () => {
        console.log(input1.value);
        document.getElementById(
          "log1"
        ).innerText = `Value: "${input1.value}" (див. консоль)`;
      });

      // --- Task 3 ---
      const btn3 = document.getElementById("task3-btn");
      const input3 = document.getElementById("task3-input");
      btn3.addEventListener("click", () => {
        if (input3.type === "text") {
          input3.type = "password";
          btn3.textContent = "Розкрити";
        } else {
          input3.type = "text";
          btn3.textContent = "Приховати";
        }
      });

      // --- Task 5 ---
      window.addEventListener("click", (e) => {
        const isPlace = e.target.id === "place";
        if (isPlace) {
          console.log(true);
          document.getElementById("log5").innerText = "Click on #place: TRUE";
        } else {
          // console.log(false);
        }
      });

      // --- Task 7 ---
      function runTask7() {
        const categories = document.querySelectorAll("#categories .item");
        let res = `Number of categories: ${categories.length}\n\n`;
        categories.forEach((item) => {
          const title = item.querySelector("h3").textContent;
          const elements = item.querySelectorAll("li").length;
          res += `Category: ${title}\nElements: ${elements}\n\n`;
        });
        console.log(res);
        document.getElementById("log7").innerText = res;
      }

      // --- Task 8 ---
      const form = document.querySelector(".login-form");
      form.addEventListener("submit", (event) => {
        event.preventDefault();
        const {
          elements: { email, password },
        } = event.currentTarget;
        if (email.value === "" || password.value === "") {
          alert("All form fields must be filled in!");
          return;
        }
        const userData = {
          email: email.value.trim(),
          password: password.value.trim(),
        };
        console.log(userData);
        document.getElementById("log8").innerText = JSON.stringify(
          userData,
          null,
          2
        );
        event.currentTarget.reset();
      });

      // --- Task 9 ---
      function getRandomHexColor() {
        return `#${Math.floor(Math.random() * 16777215)
          .toString(16)
          .padStart(6, 0)}`;
      }
      const changeBtn = document.querySelector(".change-color");
      const colorSpan = document.querySelector(".color");
      changeBtn.addEventListener("click", () => {
        const color = getRandomHexColor();
        document.body.style.backgroundColor = color;
        colorSpan.textContent = color;
      });

      // --- Task 10 ---
      const inputAmount = document.getElementById("box-amount");
      const createBtn = document.querySelector("[data-create]");
      const destroyBtn = document.querySelector("[data-destroy]");
      const boxesDiv = document.getElementById("boxes");

      function createBoxes(amount) {

        boxesDiv.innerHTML = "";

        let size = 30;
        const fragment = document.createDocumentFragment();
        for (let i = 0; i < amount; i++) {
          const div = document.createElement("div");
          div.style.width = `${size}px`;
          div.style.height = `${size}px`;
          div.style.backgroundColor = getRandomHexColor();
          fragment.appendChild(div);
          size += 10;
        }
        boxesDiv.appendChild(fragment);
      }
      function destroyBoxes() {
        boxesDiv.innerHTML = "";
      }
      createBtn.addEventListener("click", () => {
        const amount = Number(inputAmount.value);
        if (amount >= 1 && amount <= 100) {
          createBoxes(amount);
          inputAmount.value = "";
        } else {
          alert("Введіть число від 1 до 100");
        }
      });
      destroyBtn.addEventListener("click", destroyBoxes);
    </script>
  </body>
</html>
